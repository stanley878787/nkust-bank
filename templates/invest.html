{% load static %}
<!DOCTYPE html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Inter%3Awght%40400%3B500%3B700%3B900&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"
    />

    <title>高科銀行</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <link rel="stylesheet" href="{% static 'style/style.css' %}" />
    <script src="{% static 'js/invest.js' %}" defer></script>
    <script src="{% static 'js/jwt_session_timeout.js' %}" defer></script>
    <script src="{% static 'js/personal_upload.js' %}" defer></script>
  </head>   
  <body>
    <div class="container">
        <header>
        <a href="{% url 'dashboard_page' %}" style="text-decoration: none;"><div class="logo-container">
          <div class="logo">
            <svg
              viewBox="0 0 48 48"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z"
                fill="currentColor"
              ></path>
            </svg>
          </div>
          <h2 class="brand-name">NKUST Bank</h2>
        </div></a>

        <div class="nav-container">
          <div class="main-nav">
            <a class="nav-link" href="{% url 'dashboard_page' %}">帳務總覽</a>
            <a class="nav-link" href="{% url 'transfer_page' %}">轉帳</a>
            <a class="nav-link" href="{% url 'invest_page' %}">投資</a>
            <a class="nav-link" href="{% url 'recive_page' %}">明細查詢</a>
            <a class="nav-link" href="{% url 'personal_page' %}">個人資料</a>
            <a href="SignUp.html" class="btn-link">
              <button class="btn btn-secondary btn-md">
                <span class="btn-text">Log Out</span>
              </button>
            </a>
          </div>
          <div id="profileAvatar" class="avatar bg-center bg-no-repeat bg-cover rounded-full"
          style="width: 2.5rem; height: 2.5rem;"></div>
        </div>
        </header>

        <div class="main-content">
        <div class="content-container">
            <div class="stats-container">
                    <div class="stat-card positive">
                        <div class="stat-label">總預估現值 (TWD)</div>
                        <div class="stat-value">$1,452,454</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">總預估成本</div>
                        <div class="stat-value">$1,250,000</div>
                    </div>
                    <div class="stat-card positive">
                        <div style="display: flex;">
                            <div class="stat-label">總預估損益</div>
                            <div class="stat-label">(16.19)</div>
                        </div>
                        <div class="stat-value positive">+$202,454</div>
                    </div>
            </div>

            <div class="tab-container">
                <div class="tab tab-active" onclick="switchTab('investments')">
                    <span class="tab-text">我的投資</span>
                </div>
                <div class="tab tab-inactive" onclick="switchTab('trading')">
                    <span class="tab-text">交易下單</span>
                </div>
            </div>


            <!-- 投資項目展示 -->
            <div id="investments-section">
                <div class="investment-grid">
                    <div class="investment-item">
                        <div class="investment-header">
                            <div class="investment-name">台積電 (2330)</div>
                            <div class="investment-type">股票</div>
                        </div>
                        <div class="investment-details">
                            <div class="detail-row">
                                <span class="detail-label">持有股數</span>
                                <span class="detail-value">1,000 股</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">平均成本</span>
                                <span class="detail-value">$485.50</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">目前股價</span>
                                <span class="detail-value">$512.00</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">損益</span>
                                <span class="detail-value positive">+$26,500 (+5.46%)</span>
                            </div>
                        </div>
                    </div>

                    <div class="investment-item">
                        <div class="investment-header">
                            <div class="investment-name">美國科技基金</div>
                            <div class="investment-type">基金</div>
                        </div>
                        <div class="investment-details">
                            <div class="detail-row">
                                <span class="detail-label">持有單位</span>
                                <span class="detail-value">15,000 單位</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">平均成本</span>
                                <span class="detail-value">$32.80</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">目前淨值</span>
                                <span class="detail-value">$35.20</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">損益</span>
                                <span class="detail-value positive">+$36,000 (+7.32%)</span>
                            </div>
                        </div>
                    </div>

                    <div class="investment-item">
                        <div class="investment-header">
                            <div class="investment-name">比特幣 (BTC)</div>
                            <div class="investment-type">加密貨幣</div>
                        </div>
                        <div class="investment-details">
                            <div class="detail-row">
                                <span class="detail-label">持有數量</span>
                                <span class="detail-value">0.5 BTC</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">平均成本</span>
                                <span class="detail-value">$42,500</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">目前價格</span>
                                <span class="detail-value">$45,000</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">損益</span>
                                <span class="detail-value positive">+$1,250 (+5.88%)</span>
                            </div>
                        </div>
                    </div>

                    <div class="investment-item">
                        <div class="investment-header">
                            <div class="investment-name">長榮 (2603)</div>
                            <div class="investment-type">股票</div>
                        </div>
                        <div class="investment-details">
                            <div class="detail-row">
                                <span class="detail-label">持有股數</span>
                                <span class="detail-value">2,000 股</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">平均成本</span>
                                <span class="detail-value">$165.00</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">目前股價</span>
                                <span class="detail-value">$158.50</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">損益</span>
                                <span class="detail-value negative">-$13,000 (-3.94%)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- 交易區塊 -->


            <div id="trading-section" style="display: none;">
                <div class="trading-section">
                    <div>
                        <div>
                            <label class="form-label">
                                <p class="label-text">輸入股票代碼</p>
                                <!-- <input type="text" class="form-input" placeholder="" /> -->
                                <input id="find_stock" name="find_stock-no" type="text" class="form-input" placeholder="請輸入股票代號搜尋"
                                    required />
                            </label>
                        </div>
                        <div class="stock-header">
                            <div class="stock-info">
                                <h2>台積電</h2>
                                <div class="stock-code">2330</div>
                            </div>
                            <div class="stock-price">
                                <div class="current-price">994</div>
                                <div class="price-change negative">-0.3 (-0.01%)</div>
                            </div>
                        </div>

                        <div class="trade-section">
                            <div class="trade-buttons">
                                <button class="trade-btn buy-btn active" onclick="selectTradeType('buy')">買進</button>
                                <button class="trade-btn sell-btn" onclick="selectTradeType('sell')">賣出</button>
                            </div>

                            <div class="quantity-section">
                                <div class="quantity-label">數量</div>
                                <div class="quantity-controls">
                                    <button class="quantity-btn" onclick="changeQuantity(-1)">−</button>
                                    <div class="quantity-display" id="quantity">2</div>
                                    <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
                                </div>
                            </div>

                            <div class="amount-section">
                                <div class="amount-row">
                                    <span class="amount-label">預估金額</span>
                                    <span class="amount-value" id="estimatedAmount">1,988</span>
                                </div>
                                <div class="amount-row">
                                    <span class="amount-label">銀行餘額</span>
                                    <span class="amount-value">1,086,000</span>
                                </div>
                            </div>

                            <button class="submit-btn" onclick="submitOrder()">下單</button>
                        </div>
                    </div>
                </div>
            </div>



        </div>
    </div>

    <div id="toast" class="toast"></div>
  </body>
</html>
